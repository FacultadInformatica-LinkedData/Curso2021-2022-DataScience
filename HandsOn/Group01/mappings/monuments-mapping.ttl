@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix rml: <http://semweb.mmlab.be/ns/rml#>.
@prefix ql: <http://semweb.mmlab.be/ns/ql#>.          
@prefix ex: <http://example.com/ns#>.
@prefix clases: <https://www.mapmadrid.org/ontology/0.1.0/Clases/>.
@prefix schema: <http://www.schema.org/>.
@prefix prop: <https://www.mapmadrid.org/ontology/0.1.0/Propiedades/>.
@prefix xsd: <https://www.w3.org/XMLSchema/>.

<#Monuments_Mapping> a rr:TriplesMap;
  rml:logicalSource [
    rml:source "./data/monumentos.csv" ;
    rml:referenceFormulation ql:CSV
  ];
  rr:subjectMap [
    rr:template "https://www.mapmadrid.org/resources/Monument/{PK}";
    rr:termType rr:IRI; rr:class clases:Monument;
  ];

  # Data Properties
  rr:predicateObjectMap [
    rr:predicate prop:hasPK;
    rr:objectMap [
      rml:reference "PK";
      rr:datatype xsd:positiveInteger
    ]
  ];

  rr:predicateObjectMap [
    rr:predicate prop:hasName;
    rr:objectMap [
      rml:reference "NOMBRE" 
      rr:datatype xsd:string;
    ]
  ];

  rr:predicateObjectMap [
    rr:predicate prop:hasDescription;
    rr:objectMap [
      rml:reference "DESCRIPCION";
      rr:datatype xsd:string;
    ]
  ];

    rr:predicateObjectMap [
    rr:predicate prop:wasCreated;
    rr:objectMap [
      rml:reference "FECHA";
      rr:datatype xsd:string;
    ]
  ];

	rr:predicateObjectMap [
	  rr:predicate prop:createdBy;
	  rr:objectMap [
	    rml:reference "AUTORES"
      rr:datatype xsd:string;
	  ]
	];

  rr:predicateObjectMap [
    rr:predicate prop:extraInfo ;
    rr:objectMap [
      rml:reference "PDF";
      rr:datatype xsd:string;
    ]
  ];

  rr:predicateObjectMap [
    rr:predicate prop:creationDate;
    rr:objectMap [
      rml:reference "FECHA";
      rr:datatype xsd:string;
    ]
  ];

  rr:predicateObjectMap [
    rr:predicate prop:estaLocalizado;
    rr:objectMap [ 
        rr:parentTriplesMap <#Localizaciones_Mapping>;
        rr:joinCondition [
            rr:child "ParsedStreet";  rr:parent "ParsedStreet";];
    ]
  ];
  rr:predicateObjectMap [
    rr:predicate prop:esSubTipo;
    rr:objectMap [ 
        rr:parentTriplesMap <#TiposMonumentos_Mapping>;
        rr:joinCondition [
            rr:child "SubTipoParseado";  rr:parent "SubTipoParseado";];
    ]
  ].



<#TiposMonumentos_Mapping> a rr:TriplesMap;
  rml:logicalSource[
    rml:source "./data/monumentos.csv" ;
    rml:referenceFormulation ql:CSV
  ];
  rr:subjectMap [
  rr:template "https://www.mapmadrid.org/resources/Monumento/SubTipo/{SubTipoParseado}";
    rr:class class:MonumentoTipo
  ].