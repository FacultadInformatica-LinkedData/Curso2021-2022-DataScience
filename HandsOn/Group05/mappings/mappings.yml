prefixes:
ns: <http://museosymonumentos.es/conocemadrid/ontology/culturalEntities#>.
schema: <http://www.schema.org/>.
dbpedia-owl: <https://dbpedia.org/ontology/>.
org: <http://www.w3.org/ns/org/>.
vcard: <http://www.w3.org/2006/vcard/ns>.
juso: <http://rdfs.co/juso/>.
geo: <http://www.w3.org/2003/01/geo/wgs84_pos/>.
a-loc: <https://w3id.org/arco/ontology/location/>.
arp: <http://www.arpenteur.org/ontology/Arpenteur.owl/>.
  
  
mappings:
 TriplesMap1:
  sources: 
   - [./data/museos-updated.csv~csv]
  s: http://museosymonumentos.es/conocemadrid/resource/culturalEntities/Site#$(PK)
  po: 
   -[a, org:Site]
   -[dbpedia-owl:name, $(NOMBRE)]
   -[ns:accessibility, $(ACCESIBILIDAD)]
   -[schema:webSite, $(CONTENT-URL)]
   -[schema:telephone, $(TELEFONO)]
   -[vcard:hasEmail, $(EMAIL)]
   -p: vcard:hasAddress
    o:
    -mapping: TriplesMap2
      condition:
        function: equal
        parameters:
          -[str1, $(PK)]
          -[str2, $(PK)]      
   -p: vcard:hasNearbyStop
    o:
     -mapping: TriplesMap3
      condition:
        function: equal
        parameters:
           -[str1, $(PK)]
           -[str2, $(PK)]
			
 TriplesMap2:
  sources:
   - [./data/museos-updated.csv~csv]
   s: http://museosymonumentos.es/conocemadrid/resource/culturalEntities/PostalAddress#dir$(PK)
   po: 
    -[a, schema:PostalAddress]
    -[dbpedia-owl:district, $(DISTRITO)]
    -[juso:neighborhood, $(BARRIO)]
    -p: schema:geo
     o:
      -mapping: TriplesMap4
       condition:
        function: equal
        parameters:
         -[str1, $(PK)]
         -[str2, $(PK)]
                
  TriplesMap3:
    sources:
     - [./data/museos-updated.csv~csv]
    s: http://museosymonumentos.es/conocemadrid/resource/culturalEntities/Stop#stop-$(PK)
    po: 
     -[a, ns:Stop]
     -[dbpedia-owl:relatedMeanOfTransportation, $(bus)]
     -[dbpedia-owl:relatedMeanOfTransportation, $(metro)]
     -[dbpedia-owl:relatedMeanOfTransportation, $(bicimad)]
     -[dbpedia-owl:relatedMeanOfTransportation, $(cercanias)]
     -[vcard:hasEmail, $(EMAIL)]
  
  TriplesMap4:
    sources:
     - [./data/museos-updated.csv~csv]
    s: http://museosymonumentos.es/conocemadrid/resource/culturalEntities/Coordinates#coord-$(PK)
    po: 
     -[a, a-loc:Coordinates]
     -[arp:hasX, $(COORDENADA-X)]
     -[arp:hasY, $(COORDENADA-Y)]
     -[geo:lat, $(LATITUD)]
     -[geo:long, $(LONGITUD)]			
